<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vintélo</title>
  <link rel="stylesheet" href="css/planos.css">
  <style>
    .login-required {
      background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
      border: 2px solid #7D2838;
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      text-align: center;
    }
    
    .auth-message h3 {
      color: #7D2838;
      font-size: 1.5rem;
      margin-bottom: 10px;
    }
    
    .auth-message p {
      color: #666;
      margin-bottom: 20px;
      font-size: 1rem;
    }
    
    .auth-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .btn-primary, .btn-secondary {
      padding: 12px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .btn-primary {
      background: #7D2838;
      color: white;
      border: 2px solid #7D2838;
    }
    
    .btn-primary:hover {
      background: #5a1d28;
      border-color: #5a1d28;
    }
    
    .btn-secondary {
      background: white;
      color: #7D2838;
      border: 2px solid #7D2838;
    }
    
    .btn-secondary:hover {
      background: #7D2838;
      color: white;
    }
    
    @media (max-width: 768px) {
      .auth-buttons {
        flex-direction: column;
        align-items: center;
      }
      
      .btn-primary, .btn-secondary {
        width: 200px;
      }
    }
  </style>

  <link rel="icon" href="/imagens/brilhoescuro.png" type="image/x-icon">
  
</head>
<body>
  <section class="oculto-mobile">
    <header-1>
        <section class="discount-banner">
            <p>10% OFF na primeira compra</p>
        </section>
        <section class="main-header">
            <a href="/homevendedor">
            <img src="imagens/logo.png" class="img-logo">
            </a>
            <nav>
                <a href="/categorias">Vestidos</a>
                <a href="/categorias">Saias</a>
                <a href="/categorias">Blusas</a>
                <a href="/categorias">Calças</a>
                <a href="/categorias">Outros</a>
            </nav>
            <section class="search-profile">
                <form>
                    <input type="text" placeholder="Buscar...">
                </form>
                <ul>
                    <li><a href="#" ></a><img src="imagens/icone saco.png" class="img-tamanho"> </li>
                    <li><a href="/menuvendedor" ><img src="/imagens/icone sem cadastro.png" class="maria"></a></li>
                    <li><a href="#" ><img src="imagens/icone coraçao.png" class="img-tamanho"> </a></li>
                </ul>
            </section>
        </section>
      </header>
</section>

<section class="oculto-desktop">
<header>
    <nav class="grid">
      <a href="javascript:void(0)" onclick="goBack()">
       <img src="imagens/seta.png" alt="Seta Voltar">
      </a>
      <img src="imagens/logo.png" alt="Logo">
      <a href="javascript:void(0)" onclick="goBack()">
       <img src="imagens/icone premium.png" alt="Premium">
      </a>
    </nav>
</header>
</section>

  <section class="planos-header">
    <h1>Nós temos os melhores planos!</h1>
    <p>Escolha o plano perfeito para o seu brechó.</p>
    <% if (typeof autenticado !== 'undefined' && autenticado && autenticado.autenticado) { %>
      <% if (typeof planoAtual !== 'undefined' && planoAtual) { %>
        <section class="plano-atual">
          <p><strong>Seu plano atual:</strong> <%= planoAtual.NOME_PLANO %> - R$ <%= planoAtual.PRECO_PLANO.toFixed(2).replace('.', ',') %>/mês</p>
          <p><strong>Status:</strong> <%= planoAtual.STATUS_ASSINATURA === 'ativa' ? 'Ativo' : 'Inativo' %></p>
          <% if (planoAtual.DATA_VENCIMENTO) { %>
            <p><strong>Vencimento:</strong> <%= new Date(planoAtual.DATA_VENCIMENTO).toLocaleDateString('pt-BR') %></p>
          <% } %>
        </section>
      <% } else { %>
        <section class="sem-plano">
          <p>Você ainda não possui um plano premium. Escolha um abaixo!</p>
        </section>
      <% } %>
    <% } else { %>
      <section class="login-required">
        <div class="auth-message">
          <h3>Acesso Premium</h3>
          <p>Para contratar um plano premium, você precisa ter uma conta na Vintélo</p>
          <div class="auth-buttons">
            <a href="/cadastro" class="btn-primary">Criar Conta</a>
            <a href="/entrar" class="btn-secondary">Já tenho conta</a>
          </div>
        </div>
      </section>
    <% } %>
  </section>

  <section class="planos-container">
    <% if (typeof planos !== 'undefined' && planos && planos.length > 0) { %>
      <% planos.forEach(function(plano, index) { %>
        <section class="plano <%= index === 1 ? 'destaque' : '' %>">
          <% if (index === 1) { %>
            <section class="popular-badge">MAIS POPULAR</section>
          <% } %>
          <h2><%= plano.NOME_PLANO.toUpperCase() %></h2>
          <p class="preco"><span>R$</span><strong><%= Math.floor(plano.PRECO_PLANO) %></strong><span>/mês</span></p>
          <ul>
            <% if (plano.BENEFICIOS) { %>
              <% plano.BENEFICIOS.split(',').forEach(function(beneficio) { %>
                <li><%= beneficio.trim() %></li>
              <% }); %>
            <% } else { %>
              <li>Cadastro de produtos</li>
              <li>Exclusão de produtos</li>
              <% if (index > 0) { %>
                <li>Suporte <%= index === 1 ? 'básico' : 'premium' %></li>
                <li>Destaque nos resultados</li>
              <% } %>
            <% } %>
          </ul>
          <%- plano.buttonHtml %>
        </section>
      <% }); %>
    <% } else { %>
      <!-- Planos padrão caso não haja no banco -->
      <section class="plano">
        <h2>BÁSICO</h2>
        <p class="preco"><span>R$</span><strong>19</strong><span>/mês</span></p>
        <ul>
          <li>Cadastro de produtos</li>
          <li>Exclusão de produtos</li>
        </ul>
        <button onclick="contratarPlano('basico', 'Básico', 19.90)">Iniciar</button>
      </section>

      <section class="plano destaque">
        <section class="popular-badge">MAIS POPULAR</section>
        <h2>PREMIUM</h2>
        <p class="preco"><span>R$</span><strong>39</strong><span>/mês</span></p>
        <ul>
          <li>Cadastro de produtos</li>
          <li>Envio de anúncios</li>
          <li>Exclusão de produtos</li>
          <li>Suporte básico</li>
          <li>Destaque nos resultados</li>
        </ul>
        <button onclick="contratarPlano('premium', 'Premium', 39.90)">Iniciar</button>
      </section>

      <section class="plano">
        <h2>PROFISSIONAL</h2>
        <p class="preco"><span>R$</span><strong>59</strong><span>/mês</span></p>
        <ul>
          <li>Cadastro de produtos</li>
          <li>Envio de anúncios</li>
          <li>Exclusão de produtos</li>
          <li>Suporte premium</li>
          <li>Destaque avançado</li>
        </ul>
        <button onclick="contratarPlano('profissional', 'Profissional', 59.90)">Iniciar</button>
      </section>
    <% } %>
  </section>
   <br>
   <br>
   <br>
  <footer class="footer">
    <img src="imagens/logo2.jpeg" alt="Imagem do Rodapé" class="footer-image">
    <section class="social-media">
      <p class="p-footer">Siga nossas redes sociais</p>
      <ul class="social-links">
        <li><a href="https://facebook.com" target="_blank" class="social-link"><img src="imagens/Facebook.png" alt="Facebook"></a></li>
        <li><a href="https://twitter.com" target="_blank" class="social-link"><img src="imagens/Pinterest.png" alt="Pinterest"></a></li>
        <li><a href="https://www.instagram.com/vintelobrechos" target="_blank" class="social-link"><img src="imagens/Instagram.png" alt="Instagram"></a></li>
      </ul>
    </section>
    <p class="copyright">©2024 Vintélo. Todos os direitos reservados.</p>
  </footer>
  
    <script src="/js/perfil-autenticado.js"></script>
    <script src="/js/navegacao.js"></script>
    <script src="/js/planos.js"></script>
    <script>
        function goBack() {
            window.history.back();
        }
    </script>
</body>
</html>